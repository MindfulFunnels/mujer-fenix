---
import InfoCard from "./ui/InfoCard.astro";

interface EventTime {
  country: string;
  time: string;
  flag: string;
}
interface Props {
  title: string;
  subtitle?: string;
  id: string;
  dateLabel: string;
  date: string;
  timeLabel: string;
  times: EventTime[];
  importantLabel?: string;
  importantText?: string;
}
const {
  title,
  subtitle,
  id,
  dateLabel,
  date,
  timeLabel,
  times,
  importantLabel,
  importantText,
} = Astro.props;
---

<div class='relative py-24 px-4 mx-auto max-w-6xl div-reveal' id={id}>
  <!-- Background decoration -->
  <div class='absolute inset-0 overflow-hidden pointer-events-none'>
    <div
      class='absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-[var(--color-tertiary)] to-[var(--color-secondary)] rounded-full opacity-10 blur-3xl'
    >
    </div>
    <div
      class='absolute bottom-1/4 right-1/4 w-40 h-40 bg-gradient-to-l from-[var(--color-secondary)] to-[var(--color-accent)] rounded-full opacity-10 blur-3xl'
    >
    </div>
  </div>

  <!-- Header Section -->
  <div class='relative z-10 text-center mb-16'>
    <div
      class='inline-flex items-center px-6 py-3 mb-6 rounded-full bg-gradient-to-r from-[var(--color-tertiary)]/20 to-[var(--color-secondary)]/20 border border-[var(--color-tertiary)]/30'
    >
      <svg
        class='w-5 h-5 mr-2 text-[var(--color-tertiary)]'
        fill='currentColor'
        viewBox='0 0 20 20'
      >
        <path
          fill-rule='evenodd'
          d='M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z'
          clip-rule='evenodd'></path>
      </svg>
      <span
        class='text-sm font-medium text-[var(--color-tertiary)] uppercase tracking-wider'
        >Evento Exclusivo</span
      >
    </div>

    <h2
      class='text-4xl md:text-5xl lg:text-6xl font-bold mb-4 bg-gradient-to-r from-white via-[var(--color-secondary)] to-[var(--color-tertiary)] bg-clip-text text-transparent'
    >
      {title}
    </h2>

    {
      subtitle && (
        <p class='text-lg md:text-xl text-[var(--color-text-alt)] max-w-2xl mx-auto leading-relaxed'>
          {subtitle}
        </p>
      )
    }
  </div>

  <!-- Event Details Card -->
  <InfoCard class='max-w-4xl mx-auto mb-12'>
    <div class='grid md:grid-cols-2 gap-8 md:gap-12'>
      <!-- Date Section -->
      <div class='text-center md:text-left'>
        <div class='flex items-center justify-center md:justify-start mb-4'>
          <div
            class='w-12 h-12 rounded-full bg-gradient-to-r from-[var(--color-tertiary)] to-[var(--color-secondary)] flex items-center justify-center mr-4'
          >
            <svg
              class='w-6 h-6 text-white'
              fill='currentColor'
              viewBox='0 0 20 20'
            >
              <path
                fill-rule='evenodd'
                d='M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z'
                clip-rule='evenodd'></path>
            </svg>
          </div>
          <div>
            <h3
              class='text-sm font-medium text-[var(--color-secondary)] uppercase tracking-wider mb-1'
            >
              {dateLabel}
            </h3>
            <p class='text-2xl md:text-3xl font-bold text-white'>{date}</p>
          </div>
        </div>
      </div>

      <!-- Access Type -->
      <div class='text-center md:text-left'>
        <div class='flex items-center justify-center md:justify-start mb-4'>
          <div
            class='w-12 h-12 rounded-full bg-gradient-to-r from-[var(--color-secondary)] to-[var(--color-accent)] flex items-center justify-center mr-4'
          >
            <svg
              class='w-6 h-6 text-white'
              fill='currentColor'
              viewBox='0 0 20 20'
            >
              <path
                fill-rule='evenodd'
                d='M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 4a1 1 0 011-1h12a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1V8zm2 2a1 1 0 000 2h.01a1 1 0 100-2H5zm3 0a1 1 0 000 2h.01a1 1 0 100-2H8zm3 0a1 1 0 000 2h.01a1 1 0 100-2H11z'
                clip-rule='evenodd'></path>
            </svg>
          </div>
          <div>
            <h3
              class='text-sm font-medium text-[var(--color-secondary)] uppercase tracking-wider mb-1'
            >
              Acceso
            </h3>
            <p class='text-xl md:text-2xl font-bold text-white'>
              Solo por Registro
            </p>
          </div>
        </div>
      </div>
    </div>
  </InfoCard>

  <!-- Time Zones Section -->
  <div class='mb-12'>
    <div class='text-center mb-8'>
      <h3 class='text-2xl md:text-3xl font-bold text-white mb-2'>
        {timeLabel}
      </h3>
      <p class='text-[var(--color-text-alt)]'>Encuentra tu horario local</p>
    </div>

    <div
      class='grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 max-w-6xl mx-auto'
    >
      {
        times.map((t) => (
          <div class='bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-footer)] border border-[var(--color-secondary)]/20 rounded-2xl p-3 sm:p-4 hover:border-[var(--color-tertiary)]/40 transition-all duration-300 hover:transform hover:scale-105 hover:shadow-lg hover:shadow-[var(--color-tertiary)]/20'>
            <div class='flex flex-col items-center text-center space-y-1 sm:space-y-2'>
              <div class={`${t.flag} w-6 h-4 sm:w-8 sm:h-6 shadow-md`} />
              <div class='text-lg sm:text-2xl font-bold text-[var(--color-tertiary)]'>
                {t.time}
              </div>
              <div class='text-xs sm:text-sm text-[var(--color-secondary)] font-medium'>
                {t.country}
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>

  <!-- Important Notice -->
  {
    importantText && (
      <div class='text-center'>
        <InfoCard class='inline-block px-8 py-6 bg-gradient-to-r from-[var(--color-tertiary)]/10 to-[var(--color-secondary)]/10 border-2 border-[var(--color-tertiary)]/30'>
          <div class='flex items-center justify-center space-x-3'>
            <div class='w-6 h-6 rounded-full bg-[var(--color-tertiary)] flex items-center justify-center animate-pulse'>
              <svg
                class='w-4 h-4 text-white'
                fill='currentColor'
                viewBox='0 0 20 20'
              >
                <path
                  fill-rule='evenodd'
                  d='M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z'
                  clip-rule='evenodd'
                />
              </svg>
            </div>
            <p class='text-lg md:text-xl font-bold text-[var(--color-tertiary)]'>
              {importantText}
            </p>
          </div>
        </InfoCard>
      </div>
    )
  }
</div>

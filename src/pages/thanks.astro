---
import Layout from "../layouts/Layout.astro";
import CTAButton from "../components/CTAButton.astro";

const whatsappGroupLink =
  "https://chat.whatsapp.com/Ja1ZgPgn06NDxj9YCpuIRJ?mode=ems_wa_t";
---

<script>
  // Auto-redirect después de 10 segundos (más tiempo para leer)
  setTimeout(() => {
    window.location.href =
      "https://chat.whatsapp.com/Ja1ZgPgn06NDxj9YCpuIRJ?mode=ems_wa_t";
  }, 30000);
</script>

<Layout hideNav={false}>
  <main
    class='flex flex-col items-center justify-center mx-auto max-w-7xl min-h-screen'
  >
    <!-- Hero Section Premium -->
    <div class='relative py-24 px-4 text-center'>
      <!-- Background decorativo -->
      <div class='absolute inset-0 overflow-hidden pointer-events-none'>
        <div
          class='absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-[var(--color-tertiary)] to-[var(--color-secondary)] rounded-full opacity-10 blur-3xl'
        >
        </div>
        <div
          class='absolute bottom-1/4 right-1/4 w-40 h-40 bg-gradient-to-l from-[var(--color-secondary)] to-[var(--color-accent)] rounded-full opacity-10 blur-3xl'
        >
        </div>
      </div>

      <div class='relative z-10 max-w-4xl mx-auto'>
        <!-- Badge de éxito -->
        <div
          class='inline-flex items-center px-6 py-3 mb-8 rounded-full bg-gradient-to-r from-green-500/20 to-[var(--color-tertiary)]/20 border border-green-500/30'
        >
          <svg
            class='w-6 h-6 mr-3 text-green-400'
            fill='currentColor'
            viewBox='0 0 20 20'
          >
            <path
              fill-rule='evenodd'
              d='M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z'
              clip-rule='evenodd'></path>
          </svg>
          <span
            class='text-lg font-semibold text-green-400 uppercase tracking-wider'
            >¡Registro Exitoso!</span
          >
        </div>

        <!-- Título principal con gradiente -->
        <h1 class='mb-8 text-6xl md:text-7xl lg:text-8xl font-bold'>
          <span class='block'>¡Bienvenida a</span>
          <span
            class='block mt-2 bg-gradient-to-r from-[var(--color-tertiary)] via-[var(--color-secondary)] to-[var(--color-accent)] bg-clip-text text-transparent'
            >Mujer Fénix!</span
          >
        </h1>

        <!-- Subtítulo elegante -->
        <p
          class='text-xl md:text-2xl lg:text-3xl text-[var(--color-text-alt)] mb-12 leading-relaxed max-w-3xl mx-auto'
        >
          Tu transformación comienza ahora. Falta solo <strong
            class='text-[var(--color-tertiary)]'>un paso</strong
          > para completar tu registro.
        </p>
      </div>
    </div>

    <div class='text-center mb-12'>
      <a href={whatsappGroupLink} class='inline-block'>
        <button class='whatsapp-cta-button group'>
          <div class='flex items-center justify-center space-x-3'>
            <svg
              class='w-8 h-8 text-white group-hover:scale-110 transition-transform'
              fill='currentColor'
              viewBox='0 0 24 24'
            >
              <path
                d='M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.893 3.488'
              ></path>
            </svg>
            <span class='text-xl font-bold'>Unirme al Grupo de WhatsApp</span>
            <svg
              class='w-6 h-6 text-white/80 group-hover:translate-x-1 transition-transform'
              fill='none'
              stroke='currentColor'
              viewBox='0 0 24 24'
            >
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='M13 7l5 5m0 0l-5 5m5-5H6'></path>
            </svg>
          </div>
        </button>
      </a>

      <!-- Countdown timer -->
      <p class='text-sm text-[var(--color-text-alt)] mt-4'>
        Te redirigiremos automáticamente en <span
          id='countdown'
          class='text-[var(--color-tertiary)] font-bold'>10</span
        > segundos
      </p>
    </div>
    <!-- Progress Section Premium -->
    <div class='w-full max-w-2xl mx-auto mb-12 px-4'>
      <div class='premium-card p-8 text-center'>
        <h3 class='text-2xl font-semibold mb-6 text-white'>
          Tu progreso de registro
        </h3>

        <!-- Barra de progreso premium -->
        <div class='relative mb-6'>
          <div class='w-full h-4 bg-gray-800 rounded-full overflow-hidden'>
            <div
              class='progress-bar h-full rounded-full bg-gradient-to-r from-[var(--color-tertiary)] to-[var(--color-secondary)] relative'
            >
              <div
                class='absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse'
              >
              </div>
            </div>
          </div>
          <div
            class='absolute -top-8 right-[10%] text-[var(--color-tertiary)] font-bold text-lg'
          >
            90%
          </div>
        </div>

        <p class='text-lg text-[var(--color-text-alt)] mb-8'>
          ¡Falta muy poco! Solo necesitas unirte al grupo de WhatsApp para
          recibir todas las actualizaciones del evento.
        </p>

        <!-- Lista de beneficios -->
        <div class='text-left mb-8'>
          <h4
            class='text-xl font-semibold mb-4 text-center text-[var(--color-tertiary)]'
          >
            Al unirte al grupo recibirás:
          </h4>
          <ul class='space-y-3 text-[var(--color-text-alt)]'>
            <li class='flex items-center'>
              <svg
                class='w-5 h-5 mr-3 text-green-400 flex-shrink-0'
                fill='currentColor'
                viewBox='0 0 20 20'
              >
                <path
                  fill-rule='evenodd'
                  d='M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z'
                  clip-rule='evenodd'></path>
              </svg>
              <span>Enlace directo de acceso al evento en vivo</span>
            </li>
            <li class='flex items-center'>
              <svg
                class='w-5 h-5 mr-3 text-green-400 flex-shrink-0'
                fill='currentColor'
                viewBox='0 0 20 20'
              >
                <path
                  fill-rule='evenodd'
                  d='M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z'
                  clip-rule='evenodd'></path>
              </svg>
              <span>Recordatorios del evento 24h y 1h antes</span>
            </li>
            <li class='flex items-center'>
              <svg
                class='w-5 h-5 mr-3 text-green-400 flex-shrink-0'
                fill='currentColor'
                viewBox='0 0 20 20'
              >
                <path
                  fill-rule='evenodd'
                  d='M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z'
                  clip-rule='evenodd'></path>
              </svg>
              <span>Materiales exclusivos y contenido adicional</span>
            </li>
            <li class='flex items-center'>
              <svg
                class='w-5 h-5 mr-3 text-green-400 flex-shrink-0'
                fill='currentColor'
                viewBox='0 0 20 20'
              >
                <path
                  fill-rule='evenodd'
                  d='M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z'
                  clip-rule='evenodd'></path>
              </svg>
              <span>Comunidad de apoyo con otras participantes</span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- CTA Section Premium -->

    <!-- Important Notice -->
    <div class='max-w-2xl mx-auto px-4'>
      <div
        class='premium-card p-6 bg-gradient-to-r from-[var(--color-tertiary)]/10 to-[var(--color-secondary)]/10 border-2 border-[var(--color-tertiary)]/30'
      >
        <div class='flex items-start space-x-4'>
          <div
            class='w-8 h-8 rounded-full bg-[var(--color-tertiary)] flex items-center justify-center flex-shrink-0 mt-1'
          >
            <svg
              class='w-5 h-5 text-white'
              fill='currentColor'
              viewBox='0 0 20 20'
            >
              <path
                fill-rule='evenodd'
                d='M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z'
                clip-rule='evenodd'></path>
            </svg>
          </div>
          <div>
            <h4 class='text-lg font-semibold text-[var(--color-tertiary)] mb-2'>
              Importante
            </h4>
            <p class='text-[var(--color-text-alt)] leading-relaxed'>
              Si tienes algún problema para unirte al grupo, no te preocupes.
              También recibirás un email con toda la información necesaria para
              acceder al evento.
            </p>
          </div>
        </div>
      </div>
    </div>
  </main>
</Layout>

<script>
  // Countdown timer
  let seconds = 30;
  const countdownElement = document.getElementById("countdown");

  const updateCountdown = () => {
    if (countdownElement) {
      countdownElement.textContent = seconds.toString();
    }
    seconds--;

    if (seconds < 0) {
      clearInterval(countdownInterval);
    }
  };

  const countdownInterval = setInterval(updateCountdown, 1000);
</script>

<style>
  .premium-card {
    background: rgba(16, 16, 20, 0.8);
    border: 1px solid rgba(212, 175, 55, 0.3);
    border-radius: 20px;
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
  }

  .premium-card::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(212, 175, 55, 0.1) 0%,
      rgba(226, 188, 205, 0.05) 50%,
      rgba(248, 229, 236, 0.1) 100%
    );
    z-index: -1;
  }

  .progress-bar {
    width: 90%;
    animation: progressGrow 2s ease-out forwards;
  }

  @keyframes progressGrow {
    from {
      width: 0%;
    }
    to {
      width: 90%;
    }
  }

  .whatsapp-cta-button {
    padding: 1rem 2rem;
    background: linear-gradient(135deg, #25d366 0%, #1ebea5 50%, #25d366 100%);
    background-size: 200% 200%;
    border: none;
    border-radius: 50px;
    color: white;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.4s ease;
    box-shadow:
      0 8px 32px rgba(37, 211, 102, 0.3),
      0 4px 16px rgba(30, 190, 165, 0.2);
    position: relative;
    overflow: hidden;
  }

  .whatsapp-cta-button::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.3) 50%,
      transparent 100%
    );
    transition: left 0.6s ease;
  }

  .whatsapp-cta-button:hover {
    transform: translateY(-2px) scale(1.02);
    background-position: 100% 0;
    box-shadow:
      0 12px 40px rgba(37, 211, 102, 0.4),
      0 6px 20px rgba(30, 190, 165, 0.3);
  }

  .whatsapp-cta-button:hover::before {
    left: 100%;
  }

  @media (max-width: 768px) {
    .whatsapp-cta-button {
      padding: 0.875rem 1.5rem;
    }

    .whatsapp-cta-button span {
      font-size: 1.125rem;
    }
  }
</style>
